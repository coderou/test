<!DOCTYPE html>
<html lang="">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <style>
    * {
      margin: 0;
      padding: 0;
      list-style: none;
    }
    .test {
      width: 500px;
      border: 1px solid salmon;
    }
  </style>
  <body>
    数组排序(失败品)
    <!-- <script>
      [1, 3, 2, 5, 4].reduce((p, c, i, a) => {
        for (var i = 0; i <= p.length; i++) {
          console.log(i)
          if (p[i] <= c) {
            for (var j = p.length; j >= i; j--) {
              console.log(j);
              p[j + 1] = p[j];
            }
            p[i + 1] = c;
            // break;
            return p
          }
        }
        return p;
      }, []);
    </script> -->
    手写数组排序
    <!-- <script>
      [1, 3, 2, 5, 4].reduce((p, c) => {
        // p.push(c);
        if (p.length === 0) {
          p.push(c);
          console.log(p);
          return p;
        } else {
          /*
          降序:
          for (var index = 0; index < p.length; index++) {
            if (c >= p[index]) {
              console.log(index);
              p.splice(index, 0, c);
              break;
            }
          } */
          /* 升序: */
          for (var index = p.length - 1; index >= 0; index--) {
            if (c >= p[index]) {
              console.log(index);
              p.splice(index+1, 0, c);
              break;
            }
          }
          console.log(p);
          return p;
        }
      }, []);

      /* let arr=[1,2,3,4,5]
      arr.splice(0,0,999)
      console.log(arr); */
    </script> -->
    手写flat
    <!-- <script>
      function flat(arr) {
        let res = [];
        function fn(_arr) {
          _arr.forEach((i) => {
            if (!Array.isArray(i)) {
              res.push(i);
            } else {
              fn(i);
            }
          });
        }
        fn(arr);
        return res;
      }
      let res = flat([1, 2, [3, 4, [5, 6], 7], 8,[2,3,[3,[4]]], [9]]);
      console.log(res);
    </script> -->
    手写chunk?
    <!-- <script>
      //第一版
      /* function chunk(arr,num) {
        let newArr = [];
        function _chunk(arr, num) {
          if (arr.length <= num) {
            newArr.push(arr);
          }
          return;
          newArr.push(arr.splice(0, num));
        }
      }
      // console.log(chunk(arr,2));
      var arr = [1, 2, 3, 4, 5, 6, 7, 8, 9];
      arr.splice(0, 2);
      console.log(arr); */
      //第二版
      /* function chunk(arr,num) {
        let newArr = [];
        function _chunk(arr, num) {
          if (arr.length <= 0) return;
          if (arr.length <= num) {
            newArr.push(arr);
            arr.length = 0;
          } else {
            newArr.push(arr.splice(0, num));
            _chunk(arr);
          }
        }
        _chunk(arr,num)
        return newArr
      } */
      //第三版
      
      function chunk(pre_arr, num=1) {
        let arr=pre_arr.slice()
        let newArr = [];
        function _chunk(arr, num) {
          if (arr.length <= 0) return;
          if (arr.length <= num) {
            // newArr.push(arr); // 似乎这里push进去的是原本arr的指针
            newArr.push(arr.splice(0, arr.length));
          } else {
            newArr.push(arr.splice(0, num));
            _chunk(arr, num);
          }
        }
        _chunk(arr, num);
        return newArr;
      }
      var arr = [1, 2, 3, 4, 5, 6, 7, 8, 9];
      console.log(chunk(arr, 3));
      console.log(chunk(arr, 2));
      console.log(chunk(arr, 1));
      console.log(chunk(arr));
      console.log(chunk(arr,4));
      console.log(chunk(arr,9));
      console.log(chunk(arr,10));

      /* console.log(arr);
      console.log(chunk(arr, 3), newArr);
      console.log(arr);
      console.log(chunk(arr, 3), newArr);
      console.log(arr);
      console.log(chunk(arr, 3), newArr);
      console.log(arr);
      console.log(chunk(arr, 3), newArr);
      console.log(arr); */

      // 格式化
      function chunk(pre_arr, num=1) {
        let arr=pre_arr.slice() 
        let newArr = [];
        function _chunk(arr, num) {
          if (arr.length <= 0) return;
          if (arr.length <= num) {
            newArr.push(arr.splice(0, arr.length));
          } else {
            newArr.push(arr.splice(0, num));
            _chunk(arr, num);
          }
        }
        _chunk(arr, num);
        return newArr;
      }
    </script> -->
    手写数组去重
    <script></script>
    手写斐波那契数列 0、1、1、2、3、5、8、13
    <!-- <script>
      // 斐波那契数列 0、1、1、2、3、5、8、13
      // 函数:计算第N位的斐波那契数列
      function fn(num) {
        if (num === 1) return 0;
        if (num === 2) return 1;
        return fn(num - 1) + fn(num - 2);
      }
      let pre = Date.now();
      var res = fn(40);
      let now = (Date.now() - pre) / 1000;
      console.log(res, now + 's'); //701408733  7.468s
    </script> -->
    链表数据结构和lru缓存读写?
    <br />
    <pre>
      1.点击li,时间值变为最新状态,并且将改li移动到最上面,
      2.点击添加按钮,向ul添加一个li
      3.ul的最大容器长度为5,达到5再点击添加,将会remove掉最后一个li
    </pre>
    <button id="add">添加</button>
    <ul id="test">
    </ul>
    <script>
      var ul = document.getElementById('test');
      var lis = document.getElementsByClassName('#test li');
      var add = document.getElementById('add');
      var newLi = document.createElement('li');
      newLi.innerHTML = Date.now();

      add.addEventListener('click',function(){
        ul.appendChild(newLi)
      })





      

      var arr = [];
      var obj = { objToArr: arr, data: '我是data1号' };
      arr[0] = { obj };
      console.log(arr);
    </script>
  </body>
</html>
