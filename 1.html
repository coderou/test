<!DOCTYPE html>
<html lang="">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Document</title>
</head>
<style>
  * {
    margin: 0;
    padding: 0;
    list-style: none;
  }

  .test {
    width: 500px;
    border: 1px solid salmon;
  }
</style>

<body>
  <!-- æ•°ç»„æ’åº(å¤±è´¥å“) -->
  <!-- <script>
      [1, 3, 2, 5, 4].reduce((p, c, i, a) => {
        for (var i = 0; i <= p.length; i++) {
          console.log(i)
          if (p[i] <= c) {
            for (var j = p.length; j >= i; j--) {
              console.log(j);
              p[j + 1] = p[j];
            }
            p[i + 1] = c;
            // break;
            return p
          }
        }
        return p;
      }, []);
    </script> -->
  <!-- æ‰‹å†™æ•°ç»„æ’åº -->
  <!-- <script>
      [1, 3, 2, 5, 4].reduce((p, c) => {
        // p.push(c);
        if (p.length === 0) {
          p.push(c);
          console.log(p);
          return p;
        } else {
          /*
          é™åº:
          for (var index = 0; index < p.length; index++) {
            if (c >= p[index]) {
              console.log(index);
              p.splice(index, 0, c);
              break;
            }
          } */
          /* å‡åº: */
          for (var index = p.length - 1; index >= 0; index--) {
            if (c >= p[index]) {
              console.log(index);
              p.splice(index+1, 0, c);
              break;
            }
          }
          console.log(p);
          return p;
        }
      }, []);

      /* let arr=[1,2,3,4,5]
      arr.splice(0,0,999)
      console.log(arr); */
    </script> -->
  <!-- æ‰‹å†™flat -->
  <!-- <script>
      function flat(arr) {
        let res = [];
        function fn(_arr) {
          _arr.forEach((i) => {
            if (!Array.isArray(i)) {
              res.push(i);
            } else {
              fn(i);
            }
          });
        }
        fn(arr);
        return res;
      }
      let res = flat([1, 2, [3, 4, [5, 6], 7], 8,[2,3,[3,[4]]], [9]]);
      console.log(res);
    </script> -->
  <!-- æ‰‹å†™chunk? -->
  <!-- <script>
      //ç¬¬ä¸€ç‰ˆ
      /* function chunk(arr,num) {
        let newArr = [];
        function _chunk(arr, num) {
          if (arr.length <= num) {
            newArr.push(arr);
          }
          return;
          newArr.push(arr.splice(0, num));
        }
      }
      // console.log(chunk(arr,2));
      var arr = [1, 2, 3, 4, 5, 6, 7, 8, 9];
      arr.splice(0, 2);
      console.log(arr); */
      //ç¬¬äºŒç‰ˆ
      /* function chunk(arr,num) {
        let newArr = [];
        function _chunk(arr, num) {
          if (arr.length <= 0) return;
          if (arr.length <= num) {
            newArr.push(arr);
            arr.length = 0;
          } else {
            newArr.push(arr.splice(0, num));
            _chunk(arr);
          }
        }
        _chunk(arr,num)
        return newArr
      } */
      //ç¬¬ä¸‰ç‰ˆ
      
      function chunk(pre_arr, num=1) {
        let arr=pre_arr.slice()
        let newArr = [];
        function _chunk(arr, num) {
          if (arr.length <= 0) return;
          if (arr.length <= num) {
            // newArr.push(arr); // ä¼¼ä¹è¿™é‡Œpushè¿›å»çš„æ˜¯åŸæœ¬arrçš„æŒ‡é’ˆ
            newArr.push(arr.splice(0, arr.length));
          } else {
            newArr.push(arr.splice(0, num));
            _chunk(arr, num);
          }
        }
        _chunk(arr, num);
        return newArr;
      }
      var arr = [1, 2, 3, 4, 5, 6, 7, 8, 9];
      console.log(chunk(arr, 3));
      console.log(chunk(arr, 2));
      console.log(chunk(arr, 1));
      console.log(chunk(arr));
      console.log(chunk(arr,4));
      console.log(chunk(arr,9));
      console.log(chunk(arr,10));

      /* console.log(arr);
      console.log(chunk(arr, 3), newArr);
      console.log(arr);
      console.log(chunk(arr, 3), newArr);
      console.log(arr);
      console.log(chunk(arr, 3), newArr);
      console.log(arr);
      console.log(chunk(arr, 3), newArr);
      console.log(arr); */

      // æ ¼å¼åŒ–
      function chunk(pre_arr, num=1) {
        let arr=pre_arr.slice() 
        let newArr = [];
        function _chunk(arr, num) {
          if (arr.length <= 0) return;
          if (arr.length <= num) {
            newArr.push(arr.splice(0, arr.length));
          } else {
            newArr.push(arr.splice(0, num));
            _chunk(arr, num);
          }
        }
        _chunk(arr, num);
        return newArr;
      }
    </script> -->
  <!-- æ‰‹å†™æ•°ç»„å»é‡ -->
  <script></script>
  <!-- æ‰‹å†™æ–æ³¢é‚£å¥‘æ•°åˆ— 0ã€1ã€1ã€2ã€3ã€5ã€8ã€13 -->
  <!-- <script>
      // æ–æ³¢é‚£å¥‘æ•°åˆ— 0ã€1ã€1ã€2ã€3ã€5ã€8ã€13
      // å‡½æ•°:è®¡ç®—ç¬¬Nä½çš„æ–æ³¢é‚£å¥‘æ•°åˆ—
      function fn(num) {
        if (num === 1) return 0;
        if (num === 2) return 1;
        return fn(num - 1) + fn(num - 2);
      }
      let pre = Date.now();
      var res = fn(40);
      let now = (Date.now() - pre) / 1000;
      console.log(res, now + 's'); //701408733  7.468s
    </script> -->
  <!-- é“¾è¡¨æ•°æ®ç»“æ„å’Œlruç¼“å­˜è¯»å†™? -->
  <!-- <p>DOMç‰ˆæœ¬çš„lruæµ‹è¯•?</p>
  <pre>
      1.ç‚¹å‡»li,æ—¶é—´å€¼å˜ä¸ºæœ€æ–°çŠ¶æ€,å¹¶ä¸”å°†æ”¹liç§»åŠ¨åˆ°æœ€ä¸‹é¢,
      2.ç‚¹å‡»æ·»åŠ æŒ‰é’®,å‘ulæ·»åŠ ä¸€ä¸ªli
      3.ulçš„æœ€å¤§å®¹å™¨é•¿åº¦ä¸º5,è¾¾åˆ°5å†ç‚¹å‡»æ·»åŠ ,å°†ä¼šremoveæ‰ç¬¬ä¸€ä¸ªli
  </pre>
  <button id="add">æ·»åŠ </button>
  <ul id="test">
    <li>1615891014222</li>
    <li>1615891014531</li>
    <li>1615891014833</li>
  </ul> -->
  <!-- <script>
    // 1.è·å–ul
    var ul = document.getElementById('test');
    // 2.è·å–lis
    // var lis = document.getElementsByClassName('#test li');
    // 3.è·å–addæŒ‰é’®
    var add = document.getElementById('add');
    // 4.ç‚¹å‡»addæŒ‰é’®,æ·»åŠ æ—¶é—´æˆ³
    function checkLength(){
      // console.dir(ul.children);
      if(ul.children.length>5){
        var lis = document.querySelectorAll('#test li');
        // console.log(lis);
        ul.removeChild(lis[0])
      }
    }
    add.addEventListener('click', function () {
      // åˆ›å»ºnewLièŠ‚ç‚¹
      var newLi = document.createElement('li');
      // newLièŠ‚ç‚¹åˆå§‹åŒ–å†…å®¹
      newLi.innerHTML = Date.now();
      // æ·»åŠ åˆ°ulä¸­
      ul.appendChild(newLi)
      checkLength()
    })
    // 5.å€ŸåŠ©å†’æ³¡,ç‚¹å‡»ul,è·å–li
    ul.addEventListener('click', function (e) {
      // åˆ›å»ºä¸€ä¸ªfragç”¨äºä¿å­˜ä»ulæ‹¿å‡ºæ¥çš„èŠ‚ç‚¹
      const frag = document.createDocumentFragment()
      // å°†èŠ‚ç‚¹æ·»åŠ åˆ°frag,æ­¤æ—¶DOMè‡ªåŠ¨åˆ é™¤èŠ‚ç‚¹
      frag.appendChild(e.target)
      // å°†èŠ‚ç‚¹æ·»åŠ åˆ°ul,æ­¤æ—¶ulèŠ‚ç‚¹é¡ºåºæ”¹å˜
      ul.appendChild(frag)
      // å°†æœ€æ–°æ·»åŠ çš„lièŠ‚ç‚¹æ›´æ–°æ—¶é—´æˆ³
      ul.lastElementChild.innerHTML = Date.now()
      /* let date = Date.now()
      date = date + ''
      console.log(date);
      ul.lastElementChild.innerHTML = date.slice(6,20) */
      checkLength()
    })
  </script> -->
  <!-- ğŸŸğŸŸä¼˜åŒ–æ–æ³¢é‚£å¥‘æ•°åˆ—æ±‚ç¬¬Nä¸ªå€¼å‡½æ•°!!! -->
  <!-- <script>
    var cache = {}
    // 1.æ‹¿å»ç¼“å­˜ä¸­çš„å€¼çš„å‡½æ•°
    function checkNum(num) {
      return cache[num] && cache[num]
    }
    // 2.è®¾ç½®ç¼“å­˜å™¨çš„å‡½æ•°
    function setNum(num, res) {
      cache[num] = res
    }
    // å‡½æ•°:è®¡ç®—æ–æ³¢é‚£å¥‘æ•°åˆ—Né¡¹çš„å€¼
    function fibonacci(num) {
      let res = checkNum(num)
      if (res) return res
      if (num === 1) return 0;
      if (num === 2) return 1;
      res = fibonacci(num - 1) + fibonacci(num - 2);
      setNum(num, res)
      return res
    }

    let pre = Date.now();
    var res = fibonacci(1000);
    let now = (Date.now() - pre) / 1000;
    console.log(res, now + 's');
  </script> -->
  <!-- æ•°æ®ç»“æ„ç‰ˆæœ¬çš„lruç¼“å­˜æœºåˆ¶ -->
  <script>
    var arr = [];
    var obj = { objToArr: arr, data: 'æˆ‘æ˜¯data1å·' };
    arr[0] = { obj };
    console.log(arr);
  </script>

</body>

</html>