1.å¤ä¹ :
  1.ç‚¹å‡»ä¸‰çº§å¯¼èˆªæœç´¢åŠŸèƒ½:æ”¹å˜åœ°å€,ç›‘è§†$routeçš„æ”¹å˜,å‘é€è¯·æ±‚
  2.ç›‘è§†$routeå˜åŒ–->è°ƒç”¨search()->searchæ–¹æ³•ä¸­é€šè¿‡dataçš„optionså‘é€è¯·æ±‚
  3.ç‚¹å‡»trademarkå•†æ ‡,å°†æ•°æ®æ›´æ–°options,é€šè¿‡searchå‘é€è¯·æ±‚
  4.searchå‡½æ•°é€šè¿‡propsä¼ é€’ç»™å­ç»„ä»¶[è¿˜å¯ä»¥ç”¨è‡ªå®šä¹‰äº‹ä»¶]
  5.propsæ•°æ®ç»“æ„:id:value:key
  6.å½“ç‚¹å‡»prop,å°†å±æ€§pushè¿›å»props[]
    åˆ¤æ–­:æ–°æ·»åŠ çš„propsæ˜¯å¦å·²ç»å­˜åœ¨äº†
    if(newOptions.props){
      if(props.indexOf(newProp)!==-1)return
      åˆ¤æ–­:è¦æ·»åŠ prop,ä¸”propä¹‹å‰æ²¡æœ‰æ·»åŠ è¿‡
      props.push(newProp)
    }
  7.å‡åºé™åº
    orderå­—æ®µæ•°æ®ç»“æ„:1:desc  2:ascç­‰,é»˜è®¤å€¼æ˜¯1:desc
2.åˆæ­¥å®ç°åˆ†é¡µå™¨åŠŸèƒ½:
  #components/Pagination/index.vue
  {
    <template>
      <button @click="changeMyCurrentPage(-1)">ğŸ‘ˆ</button>
      <button @click="clickChange(1)" :class="{ active: myCurrentPage === 1 }">
        1
      </button>
      <button v-show="startEnd.start > 2">...</button> 
      <button 
        :class="{ active: num + startEnd.start - 1 === myCurrentPage }"
        v-for="num in middleBtnCount" 
        :key="num"
        @click="clickChange(num + startEnd.start - 1)"
      >
        {{num+startEnd.start-1}}
      </button> 
      <button v-show="startEnd.end < totalPage-1">...</button> 
      <button
        v-if="totalPage !== 1"
        :class="{ active: myCurrentPage === totalPage }"
        @click="clickChange(totalPage)"
      >
        {{ totalPage }}
      </button>
      <button @click="changeMyCurrentPage(1)">ğŸ‘‰</button>
      <select v-model="myPageSize">
        <option :value="size" v-for="size in pageSizes" :key="size"
          >æ¯é¡µ{{ size }}æ¡</option
        >
      </select>
      <span class="pagination-total">æ€»æ•°:{{ total }}</span>
    </template>
    <script>
      export default{
        data(){
          return{
            myCurrentPage: this.currentPage,
            myPageSize: this.pageSize,
          }
        },
        props:{
          'page-sizes': {
            type: Array,
            default: () => [5, 10, 15, 20],
          },
        },
        computed:{
          middleBtnCount(){
            const num=this.startEnd.end-this.startEnd.start+1
            return num<0?:0:num
          },
          totalPage() {
            return Math.ceil(this.total / this.myPageSize);
          },
          startEnd(){
            const {} =this;
            // å¦‚æœæ€»æŒ‰é’®æ•°é‡(è®¡ç®—ç»“æœ),å°äºæŒ‰é’®æ•°é‡(7)
            if(totalPage<=pageCount){
              const start=2;
              const end=totalPage-1;
              return{start,end};
            }
            // æ­£å¸¸æƒ…å†µ
            const middleBtnCount = pageCount - 2;
            const halfMiddleBtnCount = Math.floor(middleBtnCount / 2);

            let start = myCurrentPage - halfMiddleBtnCount;
            // ç‰¹æ®Šæƒ…å†µ1(startè®¡ç®—ç»“æœå°äºäº†æœ€å°å€¼)
            if (start < 2) { start = 2; }
            let end = start + middleBtnCount - 1;
            // ç‰¹æ®Šæƒ…å†µ2(endè®¡ç®—ç»“æœå¤§äºäº†æœ€å¤§å€¼)
            if (end >= totalPage) {
              end = totalPage - 1;
              start = end - middleBtnCount + 1;
            }
            return {start,end};
          }
        },
        methods:{
          changeMyCurrentPage(num) {
            if (num === 1) {
              if (this.myCurrentPage >= this.totalPage) return;
              this.myCurrentPage += 1;
            } else {
              if (this.myCurrentPage <= 1) return;
              this.myCurrentPage -= 1;
            }
          },
          // åªæœ‰ä¸€è¡Œä»£ç ,å¯ä»¥ç›´æ¥èµ‹å€¼
          clickChange(num) {
            this.myCurrentPage = num;
          },
        },
        watch: {
          myPageSize() {
            const totalPage = Math.ceil(this.total / this.myPageSize);
            if (this.myCurrentPage > totalPage) { this.myCurrentPage = totalPage; }
          },
        },

      };
    </script>
  }
3.propsé»˜è®¤å€¼æ˜¯æ•°ç»„ä¼šæŠ¥é”™,æ‰€ä»¥è¦å†™æˆå‡½æ•°å½¢å¼,å‡½æ•°è¿”å›æ•°ç»„
4.ä½¿ç”¨ctrl+.ä»£æ›¿æ ¼å¼åŒ–
5.tip:ç»“æ„å‡ºæ¥æœ‰åˆ©äºæ€§èƒ½ä¼˜åŒ–,å› ä¸ºå¤šæ¬¡è¯»å–æ“ä½œä¹Ÿä¼šæ¶ˆè€—æ€§èƒ½
6.watchç”¨çš„éƒ½å¯ä»¥ç”¨computedæ¥ä½¿ç”¨???
7.computedä¸å¯ä»¥å†™å¼‚æ­¥æ“ä½œ??
8._lodashä½¿ç”¨é˜²æŠ–èŠ‚æµ
9.lodashå‡½æ•°:å“ªé‡Œè¦ç”¨,åœ¨é‚£ä¸ªå‡½æ•°åŒ…ä¸€å±‚å³å¯
10.æ”¹å˜å½“å‰é¡µ,æ›´æ–°é¡µé¢
  tip:yarn add lodash
  #view/Search/Search.vue
  {
    <template>
      <Patination
        @size-change="handleSizeChange"
        @current-change="handleCurrentChange"
        :current-page="options.pageNo"
        :page-size="options.pageSize"
        :page-sizes="[5, 10, 15, 20]"
        :total="total"
        :page-count="7"
      />
    </template>
    <script>
      // import _ from 'lodash';// å®Œæ•´å¼•å…¥,æ‰“åŒ…ä½“ç§¯å¤§
      import debounce from 'lodash/debounce';// å•ç‹¬å¼•å…¥
      export default{
        methods:{
          //handleCurrentChange: _.debounce(function (currentPage) {
          handleCurrentChange: debounce(function (currentPage) {
            this.options.pageNo = currentPage;
            this.search();
          },
          300,
          {
            // è®©å»¶è¿Ÿå¼€å§‹å‰è°ƒç”¨ä¸€æ¬¡
            leading: true,
          }),
        },
      }
    </script>
  }
  #components/Pagination/index.vue
  {
    <script>
      export default{
        watch:{
          myPageSize(pageSize) {
            // const totalPage = Math.ceil(this.total / this.myPageSize);
            // if (this.myCurrentPage > totalPage) { this.myCurrentPage = totalPage; }
            // tip:ç»“æ„å‡ºæ¥æœ‰åˆ©äºæ€§èƒ½ä¼˜åŒ–,å› ä¸ºå¤šæ¬¡è¯»å–æ“ä½œä¹Ÿä¼šæ¶ˆè€—æ€§èƒ½
            const { myCurrentPage, totalPage } = this;
            if (myCurrentPage > totalPage) {
              this.myCurrentPage = totalPage;
            }
            this.$emit('size-change', pageSize);
          },
          myCurrentPage(myCurrentPage) {
            this.$emit('current-change', myCurrentPage);
          },
        }
      }
    </script>
  }
11.å•†å“è¯¦æƒ…é¡µ
  1.cv
  2.é…ç½®routerè·¯ç”±
  3.#views/Search/Search.vue
    æ·»åŠ ç‚¹å‡»è·³è½¬äº‹ä»¶
    //$router.history.push({})
    ç›´æ¥ç»™å›¾ç‰‡ç»‘å®šrouter-link
    å› ä¸ºæ˜¯å•é¡µé¢åº”ç”¨,æ‰€ä»¥è·³è½¬çš„æ—¶å€™ä¼šå‡ºç°æ»šåŠ¨æ¡ä¸å˜çš„æƒ…å†µ
    æ‰€ä»¥:routerçš„é…ç½®:scrollBehavior
    new routerçš„æ—¶å€™å¢åŠ ä¸€ä¸ªé…ç½®
  4.è®¾ç½®apiè¯·æ±‚åœ°å€,vuex
  5.åˆå§‹åŒ–çš„æ—¶å€™,vuexå°±å†™ä¸Š[æ•°æ®åˆå§‹åŒ–çš„æ—¶å€™å†™è¯¦ç»†ä¸€ç‚¹]
  6.
4.sku/spu
5.2021å¹´3æœˆ13æ—¥16:50:02
ğŸŸğŸŸ6.æ—¢ç„¶éƒ½å¯ä»¥é€šè¿‡TSè¿›è¡Œç¼–è¯‘JS,é‚£ä¸ºä»€ä¹ˆä¸å¯ä»¥å°†ä¸­æ–‡å˜é‡åç¼–è¯‘ä¸ºè‹±æ–‡æ‰§è¡Œ??
2021å¹´3æœˆ13æ—¥16:57:34
7.PCé¡¹ç›®å†™çš„æ—¶å€™ï¼Œèƒ½è‡ªå·±å†™ä¸€èˆ¬éƒ½æ˜¯è‡ªå·±å†™ï¼Œä¸ä¼šç”¨ç¬¬ä¸‰æ–¹åº“
8.å®ç°å•†å“è¯¦æƒ…é¡µæ¸²æŸ“æ•°æ®
  #router/routes.js
  {
    import Detail from '@/views/Detail/Detail.vue'
    export default{
      {
        path:'detail/:skuId?',
        name:'Detail',
        component:Detail,
      }
    }
  }
  #router/index.js
  {
    export default new VueRouter({
      ...
      scrollBehavior() {
        // return æœŸæœ›æ»šåŠ¨åˆ°é‚£ä¸ªçš„ä½ç½®
        return {
          x: 0,
          y: 0,
        };
      },
    })
  }
  #api/index.js
  {
    export const reqGetDetail=(id)=>{
      request({
        method:'GET',
        url:`/item/${id}`,
      })
    }
  }
  #store/modules/detail.js
  {
    import { reqGetDetail } from '@/api';

    export const state = {
      // å»ºè®®:åˆå§‹åŒ–æ•°æ®æ—¶è¯¦ç»†
      // å•†å“è¯¦æƒ…æ•°æ®
      goodsDetail: {
        // å•†å“åˆ†ç±»
        categoryView: {},
        // å•†å“è¯¦æƒ…æ•°æ®
        skuInfo: {},
        // å•†å“é”€å”®å±æ€§å€¼åˆ—è¡¨
        spuSaleAttrList: [],
      },
    };

    export const getters = {
      categoryView(state) {
        return state.goodsDetail.categoryView;
      },
      skuInfo(state) {
        return state.goodsDetail.skuInfo;
      },
      spuSaleAttrList(state) {
        return state.goodsDetail.spuSaleAttrList;
      },
    };

    export const actions = {
      getDetail({ commit }, id) {
        // console.log(id);
        reqGetDetail(id)
          .then((searchList) => {
            commit('REQ_GET_DETAIL', searchList);
          })
          .catch((message) => {
            console.log(message);
          });
      },
    };

    export const mutations = {
      REQ_GET_DETAIL(state, goodsDetail) {
        state.goodsDetail = goodsDetail;
      },
    };
  }
  #store/modules/index.js
  {
    import * as detail from './detail.js'
  }
  #views/Search/Search.vue
  {
    <div class="p-img">
      <router-link :to="`/detail/${goods.id}`"
        ><img :src="goods.defaultImg"
      /></router-link>
    </div>
  }
  #views/Detail/Detail.vue
  {
    <template>
      .....
        <dl v-for="spuSaleAttr in spuSaleAttrList" :key="spuSaleAttr.id">
          <dt class="title">{{ spuSaleAttr.saleAttrName }}</dt>
          <dd
            v-for="spuSaleAttrValue in spuSaleAttr.spuSaleAttrValueList"
            :class="{
              active: spuSaleAttrValue.isChecked === '1',
            }"
            :key="spuSaleAttrValue.id"
          >
            {{ spuSaleAttrValue.saleAttrValueName }}
          </dd>
        </dl>
      .....
    </template>
    <script>
      import { mapGetters, mapActions } from 'vuex';
      export default{
        computed:{
          ...mapGetters(["categoryView", "skuInfo", "spuSaleAttrList"]),
        },
        methods:{
          ...mapActions(['getDetail'])
        },
        mounted(){
          const {skuId} = this.$route.params;
          this.getDetail(skuId)
        }
      };
    </script>
  }
9.æœ€æ€•çš„æŠ¥é”™å°±æ˜¯ä¸æŠ¥é”™,è¿˜æœ‰å°±æ˜¯æŠ¥é”™é”™äº†
10.ğŸŸğŸŸğŸŸé—®é¢˜:å¦‚ä½•è·å¾—DOMå…ƒç´ è·ç¦»æ–‡æ¡£è¾¹ç¼˜çš„è·ç¦»?